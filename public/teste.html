<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garagem Inteligente Conectada</title>
    
    <!-- CSS e Fontes Externas -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1><i class="fas fa-warehouse"></i> Garagem Inteligente Conectada</h1>

    <div id="notificacoes"></div>

    <!-- Seção para Adicionar Veículo -->
    <!-- Seção para Adicionar Veículo ATUALIZADA -->
<div class="form-section">
    <h3><i class="fas fa-plus-circle"></i> Adicionar Novo Veículo</h3>
    <form id="formAdicionarVeiculo">
        <!-- Campos Obrigatórios para o Backend -->
        <label for="placaVeiculo">Placa:</label>
        <input type="text" id="placaVeiculo" placeholder="Ex: ABC1D23" required>

        <label for="marcaVeiculo">Marca:</label>
        <input type="text" id="marcaVeiculo" placeholder="Ex: Volkswagen, Ford" required>

        <label for="modeloVeiculo">Modelo:</label>
        <input type="text" id="modeloVeiculo" placeholder="Ex: Fusca, Mustang" required>

        <label for="anoVeiculo">Ano:</label>
        <input type="number" id="anoVeiculo" placeholder="Ex: 2023" required>

        <!-- Campo Opcional -->
        <label for="corVeiculo">Cor:</label>
        <input type="text" id="corVeiculo" placeholder="Ex: Azul, Vermelho, Prata">

        <button type="submit"><i class="fas fa-save"></i> Adicionar à Garagem</button>
    </form>
</div>

    <!-- Seção da Garagem (Lista de Veículos) -->
    <div class="list-section">
        <h2><i class="fas fa-car-side"></i> Meus Veículos</h2>
        <div id="listaVeiculos"><p>Nenhum veículo na garagem. Adicione um acima!</p></div>
    </div>

    <!-- Seção de Agendamentos Futuros -->
    <div class="list-section">
        <h3><i class="fas fa-calendar-alt"></i> Agendamentos Futuros</h3>
        <div id="listaAgendamentosFuturos"><p>Nenhum agendamento futuro encontrado.</p></div>
    </div>

    <!-- Seção do Planejador de Viagem com Clima -->
    <div class="form-section" id="planejador-viagem">
        <h3><i class="fas fa-map-marked-alt"></i> Planejar Viagem com Clima</h3>
        <label for="destino-viagem">Cidade de Destino:</label>
        <input type="text" id="destino-viagem" placeholder="Digite o nome da cidade">
        <button id="verificar-clima-btn"><i class="fas fa-cloud-sun"></i> Verificar Clima</button>

        <div class="forecast-controls" id="forecast-interaction-controls" style="display: none;">
            <div class="control-group">
                <label>Mostrar previsão para:</label>
                <div class="options" id="dias-filter-options">
                    <button data-dias="1">Hoje</button>
                    <button data-dias="3">3 Dias</button>
                    <button data-dias="5" class="active">5 Dias</button>
                </div>
            </div>
            <div class="control-group">
                <span class="highlight-options-title">Opções de Destaque:</span>
                <div class="options" id="highlight-filter-options">
                    <label><input type="checkbox" id="destaque-chuva"> Destacar Chuva</label>
                    <label><input type="checkbox" id="destaque-temp-baixa"> Temp. Baixa (<10°C)</label>
                    <label><input type="checkbox" id="destaque-temp-alta"> Temp. Alta (>30°C)</label>
                </div>
            </div>
        </div>
        <div id="previsao-tempo-resultado" style="display: none;"></div>
    </div>

    <!-- Modal para Detalhes do Veículo e Manutenção -->
    <div id="modalDetalhesVeiculo" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="fecharModal()">×</span>
            <h2 id="modalTituloVeiculo">Detalhes do Veículo</h2>
            <div id="modalInfoVeiculo" class="info-veiculo"></div>
            <div id="detalhes-extras-api">
                <div id="detalhes-extras-api-content"></div>
            </div>
            <div class="actions" id="modalAcoesVeiculo"></div>
            <div class="list-section">
                <h3><i class="fas fa-tools"></i> Histórico e Agendamentos</h3>
                <div id="modalHistoricoManutencao"></div>
            </div>
            <div class="form-section">
                <h3 id="modalFormManutencaoTitulo"><i class="fas fa-plus-square"></i> Registrar Nova Manutenção</h3>
                <form id="formManutencao">
                    <input type="hidden" id="manutencaoVeiculoId">
                    <label for="manutencaoData">Data e Hora:</label>
                    <input type="text" id="manutencaoData" placeholder="Selecione a data e hora" required>
                    <label for="manutencaoTipo">Tipo de Serviço:</label>
                    <input type="text" id="manutencaoTipo" placeholder="Ex: Troca de óleo, Revisão de freios" required>
                    <label for="manutencaoCusto">Custo (R$):</label>
                    <input type="number" id="manutencaoCusto" min="0" step="0.01" placeholder="Ex: 150.00" required>
                    <label for="manutencaoDescricao">Descrição (Opcional):</label>
                    <textarea id="manutencaoDescricao" rows="3" placeholder="Detalhes adicionais do serviço..."></textarea>
                    <button type="submit"><i class="fas fa-save"></i> Salvar Manutenção</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://npmcdn.com/flatpickr/dist/l10n/pt.js"></script>
    <script src="script.js"></script>
</body>
</html>